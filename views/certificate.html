<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="../assets/CSS/style.css">
    <title>Document</title>
    <script src="../public/helper.js"></script>

</head>
<body>
  <div class="main-container">
    <div class="heading">
      <h1>CERTIFICATE</h1>
    </div>
    <p class="certifies">THE TestPRO TEAM CERTIFIES THAT</p>
    <p id="username">USER 1</p>
    <p class="certifies">HAS GIVEN</p>
    <p id="test"><span id="testname">HTML</span>&nbsp;TEST</p>
    <p class="certifies">AND SCORED <span id="score" class="color-blue">5</span> OUT OF <span class="color-blue">5</span></p>
    <!-- <p id="testname"></p> -->
    <!-- <p id="username"></p> -->
    <!-- <p id="score"></p> -->
  </div>
</body>

<script>
  var id = document.URL.split('/')
  var req = new XMLHttpRequest()
  
  req.onreadystatechange = function(){
    if(this.readyState == 4 && this.status == 200){
      var newData = JSON.parse(this.response)
      console.log(newData)
      
      document.getElementById('testname').innerHTML = newData[0].testname
      document.getElementById('username').innerHTML = newData[0].username
      document.getElementById('score').innerHTML = newData[0].score
    }
  };
  
  var data = {
    id: id[id.length - 1]
  };
  
  req.open('POST','/get-test-data',true);
  req.setRequestHeader('Content-Type', 'application/json');  
  req.send(JSON.stringify(data));

</script>
</html>